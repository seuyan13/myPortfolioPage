{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _1 = __importDefault(require(\"./\"));\nvar utils_1 = require(\"./utils\");\nvar Builder = /** @class */function () {\n  function Builder(src, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n    this._src = src;\n    this._opts = utils_1.assignDeep({}, _1.default.DefaultOpts, opts);\n  }\n  Builder.prototype.maxColorCount = function (n) {\n    this._opts.colorCount = n;\n    return this;\n  };\n  Builder.prototype.maxDimension = function (d) {\n    this._opts.maxDimension = d;\n    return this;\n  };\n  Builder.prototype.addFilter = function (name) {\n    if (!this._opts.filters) {\n      this._opts.filters = [name];\n    } else {\n      this._opts.filters.push(name);\n    }\n    return this;\n  };\n  Builder.prototype.removeFilter = function (name) {\n    if (this._opts.filters) {\n      var i = this._opts.filters.indexOf(name);\n      if (i > 0) this._opts.filters.splice(i);\n    }\n    return this;\n  };\n  Builder.prototype.clearFilters = function () {\n    this._opts.filters = [];\n    return this;\n  };\n  Builder.prototype.quality = function (q) {\n    this._opts.quality = q;\n    return this;\n  };\n  Builder.prototype.useImageClass = function (imageClass) {\n    this._opts.ImageClass = imageClass;\n    return this;\n  };\n  Builder.prototype.useGenerator = function (generator, options) {\n    if (!this._opts.generators) this._opts.generators = [];\n    this._opts.generators.push(options ? {\n      name: generator,\n      options: options\n    } : generator);\n    return this;\n  };\n  Builder.prototype.useQuantizer = function (quantizer, options) {\n    this._opts.quantizer = options ? {\n      name: quantizer,\n      options: options\n    } : quantizer;\n    return this;\n  };\n  Builder.prototype.build = function () {\n    return new _1.default(this._src, this._opts);\n  };\n  Builder.prototype.getPalette = function (cb) {\n    return this.build().getPalette(cb);\n  };\n  Builder.prototype.getSwatches = function (cb) {\n    return this.build().getPalette(cb);\n  };\n  return Builder;\n}();\nexports.default = Builder;","map":{"version":3,"names":["_1","__importDefault","require","utils_1","Builder","src","opts","_src","_opts","assignDeep","default","DefaultOpts","prototype","maxColorCount","n","colorCount","maxDimension","d","addFilter","name","filters","push","removeFilter","i","indexOf","splice","clearFilters","quality","q","useImageClass","imageClass","ImageClass","useGenerator","generator","options","generators","useQuantizer","quantizer","build","getPalette","cb","getSwatches"],"sources":["../../../../packages/vibrant-core/src/builder.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}