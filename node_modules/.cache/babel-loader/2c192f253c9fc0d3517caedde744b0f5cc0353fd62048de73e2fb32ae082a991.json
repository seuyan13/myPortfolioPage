{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction runInWorker(self, fn) {\n  self.onmessage = function (event) {\n    var data = event.data;\n    var id = data.id,\n      payload = data.payload;\n    var response;\n    Promise.resolve(fn.apply(void 0, payload)).then(function (ret) {\n      self.postMessage({\n        id: id,\n        type: 'return',\n        payload: ret\n      });\n    }).catch(function (e) {\n      self.postMessage({\n        id: id,\n        type: 'error',\n        payload: e.message\n      });\n    });\n  };\n}\nexports.default = runInWorker;","map":{"version":3,"names":["runInWorker","self","fn","onmessage","event","data","id","payload","response","Promise","resolve","apply","then","ret","postMessage","type","catch","e","message","exports","default"],"sources":["../../../../packages/vibrant-worker/src/worker.ts"],"sourcesContent":[null],"mappings":";;;;;AAOA,SAAwBA,WAAWA,CAAKC,IAAY,EAAEC,EAAqC;EACzFD,IAAI,CAACE,SAAS,GAAG,UAACC,KAAK;IACrB,IAAIC,IAAI,GAAkBD,KAAK,CAACC,IAAI;IAE9B,IAAAC,EAAE,GAAcD,IAAI,CAAAC,EAAlB;MAAEC,OAAO,GAAKF,IAAI,CAAAE,OAAT;IAEjB,IAAIC,QAAiD;IAErDC,OAAO,CAACC,OAAO,CAACR,EAAE,CAAAS,KAAA,SAAIJ,OAAO,EAAE,CAC5BK,IAAI,CAAC,UAACC,GAAG;MACPZ,IAAY,CAACa,WAAW,CAAC;QACxBR,EAAE,EAAAA,EAAA;QACFS,IAAI,EAAE,QAAQ;QACdR,OAAO,EAAEM;OACV,CAAC;IACJ,CAAC,CAAC,CACDG,KAAK,CAAC,UAACC,CAAC;MACNhB,IAAY,CAACa,WAAW,CAAC;QACxBR,EAAE,EAAAA,EAAA;QACFS,IAAI,EAAE,OAAO;QACbR,OAAO,EAAGU,CAAW,CAACC;OACvB,CAAC;IACJ,CAAC,CAAC;EACN,CAAC;AACH;AAxBAC,OAAA,CAAAC,OAAA,GAAApB,WAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}